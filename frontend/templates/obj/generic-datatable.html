{% load staticfiles i18n common_tags %}

{# Datatables #}
<link rel="stylesheet" href="{% static 'assets/css/dataTables.bootstrap4.min.css' %}">
<link rel="stylesheet" href="{% static 'assets/css/buttons.bootstrap4.min.css' %}">
<script src="{% static 'assets/js/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'assets/js/dataTables.bootstrap4.min.js' %}"></script>
<script src="{% static 'assets/js/dataTables.buttons.min.js' %}"></script>
<script src="{% static 'assets/js/buttons.bootstrap4.min.js' %}"></script>
<script src="{% static 'assets/js/jszip.min.js' %}"></script>
<script src="{% static 'assets/js/pdfmake.min.js' %}"></script>
<script src="{% static 'assets/js/vfs_fonts.js' %}"></script>
<script src="{% static 'assets/js/buttons.html5.min.js' %}"></script>
<script src="{% static 'assets/js/buttons.print.min.js' %}"></script>
<script src="{% static 'assets/js/buttons.colVis.min.js' %}"></script>
<script class="init" type="text/javascript">
$(document).ready(function() {
    var table = $('#apl-table').DataTable( {
        buttons: [ 'copy', 'excel', 'pdf', 'colvis' ]
    } );

    table.buttons().container()
        .appendTo( '#apl-table_wrapper .col-md-6:eq(0)' );
} );
</script>

<legend>{{ table_title }}</legend>
<div class="container" style="width: 90%;">
    <div class="row row-centered">
        <table id="apl-table" class="table table-striped table-bordered table-hover" cellspacing="0" width="100%">
            <thead>
                <tr role="row">
                    {% for header in headers %}
                    <th>{{ header }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
            {% for record in records %}
                <tr{% if record.highlight %} class='active'{% endif %}>
                {% for field in order %}
                    <td>{{ record|getattribute:field }}</td>
                {% endfor %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>
